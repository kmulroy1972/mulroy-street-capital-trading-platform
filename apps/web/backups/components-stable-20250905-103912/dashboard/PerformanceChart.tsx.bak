'use client';

import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';
import { useQuery } from '@tanstack/react-query';

// Mock data - replace with real API
const mockData = [
  { time: '9:30', value: 100000 },
  { time: '10:00', value: 101500 },
  { time: '10:30', value: 101200 },
  { time: '11:00', value: 102800 },
  { time: '11:30', value: 103200 },
  { time: '12:00', value: 102900 },
  { time: '12:30', value: 104100 },
  { time: '1:00', value: 104500 },
  { time: '1:30', value: 105200 },
  { time: '2:00', value: 104800 },
  { time: '2:30', value: 105500 },
  { time: '3:00', value: 106200 },
  { time: '3:30', value: 106800 },
  { time: '4:00', value: 107500 },
];

export function PerformanceChart() {
  return (
    <div className="glass-card p-6">
      <div className="flex items-center justify-between mb-4">
        <h2 className="text-lg font-semibold text-text-primary">Portfolio Performance</h2>
        <div className="flex gap-2">
          {['1D', '1W', '1M', '3M', '6M', '1Y', 'ALL'].map((period) => (
            <button
              key={period}
              className={`px-2 py-1 text-xs rounded ${
                period === '1D' 
                  ? 'bg-primary/20 text-primary border border-primary' 
                  : 'text-text-secondary hover:text-text-primary'
              }`}
            >
              {period}
            </button>
          ))}
        </div>
      </div>

      <div className="h-64">
        <ResponsiveContainer width="100%" height="100%">
          <LineChart data={mockData}>
            <CartesianGrid strokeDasharray="3 3" stroke="#27272a" />
            <XAxis 
              dataKey="time" 
              stroke="#71717a"
              style={{ fontSize: '12px' }}
            />
            <YAxis 
              stroke="#71717a"
              style={{ fontSize: '12px' }}
              tickFormatter={(value) => `${(value / 1000).toFixed(0)}k`}
            />
            <Tooltip
              contentStyle={{
                backgroundColor: '#111215',
                border: '1px solid #27272a',
                borderRadius: '8px',
              }}
              labelStyle={{ color: '#a1a1aa' }}
            />
            <Line
              type="monotone"
              dataKey="value"
              stroke="#00ff88"
              strokeWidth={2}
              dot={false}
              activeDot={{ r: 4, fill: '#00ff88' }}
            />
          </LineChart>
        </ResponsiveContainer>
      </div>

      <div className="grid grid-cols-4 gap-4 mt-4 pt-4 border-t border-border">
        <div>
          <p className="text-xs text-text-secondary">YTD Return</p>
          <p className="text-sm font-semibold text-primary">+112.5%</p>
        </div>
        <div>
          <p className="text-xs text-text-secondary">Max DD</p>
          <p className="text-sm font-semibold text-text-primary">-3.8%</p>
        </div>
        <div>
          <p className="text-xs text-text-secondary">Risk Score</p>
          <p className="text-sm font-semibold text-warning">68%</p>
        </div>
        <div>
          <p className="text-xs text-text-secondary">Win Rate</p>
          <p className="text-sm font-semibold text-primary">73%</p>
        </div>
      </div>
    </div>
  );
}